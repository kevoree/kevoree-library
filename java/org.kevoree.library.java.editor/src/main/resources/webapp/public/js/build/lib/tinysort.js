/* TinySort 1.5.3
* Copyright (c) 2008-2013 Ron Valstar http://tinysort.sjeiti.com/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*/

(function(e,t){function h(e){return e&&e.toLowerCase?e.toLowerCase():e}function p(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]==t)return!n;return n}var n=!1,r=null,i=parseFloat,s=Math.min,o=/(-?\d+\.?\d*)$/g,u=/(\d+\.?\d*)$/g,a=[],f=[],l=function(e){return typeof e=="string"},c=Array.prototype.indexOf||function(e){var t=this.length,n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);for(;n<t;n++)if(n in this&&this[n]===e)return n;return-1};e.tinysort={id:"TinySort",version:"1.5.2",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(){var e=function(e,t){a.push(e),f.push(t)};return e.indexOf=c,e}(),defaults:{order:"asc",attr:r,data:r,useVal:n,place:"start",returns:n,cases:n,forceStrings:n,ignoreDashes:n,sortFunction:r}},e.fn.extend({tinysort:function(){var v,y,w=this,E=[],S=[],x=[],T=[],N=0,C,L=[],A=[],O=function(t){e.each(a,function(e,n){n.call(n,t)})},M=function(t,r){var s=0;N!==0&&(N=0);while(s===0&&N<C){var a=T[N],c=a.oSettings,p=c.ignoreDashes?u:o;O(c);if(c.sortFunction)s=c.sortFunction(t,r);else if(c.order=="rand")s=Math.random()<.5?1:-1;else{var d=n,v=c.cases?t.s[N]:h(t.s[N]),y=c.cases?r.s[N]:h(r.s[N]);if(!P.forceStrings){var w=l(v)?v&&v.match(p):n,E=l(y)?y&&y.match(p):n;if(w&&E){var S=v.substr(0,v.length-w[0].length),x=y.substr(0,y.length-E[0].length);S==x&&(d=!n,v=i(w[0]),y=i(E[0]))}}s=a.iAsc*(v<y?-1:v>y?1:0)}e.each(f,function(e,t){s=t.call(t,d,v,y,s)}),s===0&&N++}return s};for(v=0,y=arguments.length;v<y;v++){var _=arguments[v];l(_)?L.push(_)-1>A.length&&(A.length=L.length-1):A.push(_)>L.length&&(L.length=A.length)}L.length>A.length&&(A.length=L.length),C=L.length,C===0&&(C=L.length=1,A.push({}));for(v=0,y=C;v<y;v++){var D=L[v],P=e.extend({},e.tinysort.defaults,A[v]),H=!!D&&D!="",B=H&&D[0]==":";T.push({sFind:D,oSettings:P,bFind:H,bAttr:P.attr!==r&&P.attr!="",bData:P.data!==r,bFilter:B,$Filter:B?w.filter(D):w,fnSort:P.sortFunction,iAsc:P.order=="asc"?1:-1})}return w.each(function(n,r){var i=e(r),s=i.parent().get(0),o,u=[];for(j=0;j<C;j++){var a=T[j],f=a.bFind?a.bFilter?a.$Filter.filter(r):i.find(a.sFind):i;u.push(a.bData?f.data(a.oSettings.data):a.bAttr?f.attr(a.oSettings.attr):a.oSettings.useVal?f.val():f.text()),o===t&&(o=f)}var l=c.call(x,s);l<0&&(l=x.push(s)-1,S[l]={s:[],n:[]}),o.length>0?S[l].s.push({s:u,e:i,n:n}):S[l].n.push({e:i,n:n})}),e.each(S,function(e,t){t.s.sort(M)}),e.each(S,function(t,r){var i=r.s.length,o=[],u=i,a=[0,0];switch(P.place){case"first":e.each(r.s,function(e,t){u=s(u,t.n)});break;case"org":e.each(r.s,function(e,t){o.push(t.n)});break;case"end":u=r.n.length;break;default:u=0}for(v=0;v<i;v++){var f=p(o,v)?!n:v>=u&&v<u+r.s.length,l=(f?r.s:r.n)[a[f?0:1]].e;l.parent().append(l),(f||!P.returns)&&E.push(l.get(0)),a[f?0:1]++}}),w.length=0,Array.prototype.push.apply(w,E),w}}),e.fn.TinySort=e.fn.Tinysort=e.fn.tsort=e.fn.tinysort})(jQuery);