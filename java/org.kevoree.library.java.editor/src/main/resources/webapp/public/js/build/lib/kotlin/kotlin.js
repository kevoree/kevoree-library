/**
 * Copyright 2010 Tim Down.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*
 * Copyright 2010-2013 JetBrains s.r.o.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function(){Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),Object.keys||(Object.keys=function(e){var t=[],n=0;for(var r in e)e.hasOwnProperty(r)&&(t[n++]=r);return t}),Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),typeof Object.getPrototypeOf!="function"&&(typeof "test".__proto__=="object"?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype})})();var Kotlin={};(function(){function e(e){var t;return e==null?t=[]:Array.isArray(e)?t=e:t=[e],t}function t(e,t){if(e==null||t==null)return;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function n(e){for(var t=0;t<e.length;t++)if(i(e[t])||e[t].$metadata$.type===Kotlin.TYPE.CLASS)return e[t];return null}function i(e){return e!=null&&e.$metadata$==null}function s(e,t,n){for(var r=0;r<t.length;r++){if(i(t[r]))continue;var s=n(t[r]);for(var o in s)s.hasOwnProperty(o)&&(!e.hasOwnProperty(o)||e[o].$classIndex$<s[o].$classIndex$)&&(e[o]=s[o])}}function o(t,r){var i={};i.baseClasses=e(t),i.baseClass=n(i.baseClasses),i.classIndex=Kotlin.newClassIndex(),i.functions={},i.properties={};if(r!=null)for(var o in r)if(r.hasOwnProperty(o)){var u=r[o];u.$classIndex$=i.classIndex,typeof u=="function"?i.functions[o]=u:i.properties[o]=u}return s(i.functions,i.baseClasses,function(e){return e.$metadata$.functions}),s(i.properties,i.baseClasses,function(e){return e.$metadata$.properties}),i}function u(){var e=this.object_initializer$();return Object.defineProperty(this,"object",{value:e}),e}function a(e,t){if(i(e)||e.$metadata$.classIndex<t.$metadata$.classIndex)return!1;var n=e.$metadata$.baseClasses,r;for(r=0;r<n.length;r++)if(n[r]===t)return!0;for(r=0;r<n.length;r++)if(a(n[r],t))return!0;return!1}function f(e,t){return function(){if(t!==null){var n=t;t=null,n.call(e)}return e}}function l(e){var t={};if(e==null)return t;for(var n in e)e.hasOwnProperty(n)&&(typeof e[n]=="function"?t[n]=e[n]:Object.defineProperty(t,n,e[n]));return t}var r=function(){return function(){}};Kotlin.TYPE={CLASS:"class",TRAIT:"trait",OBJECT:"object"},Kotlin.classCount=0,Kotlin.newClassIndex=function(){var e=Kotlin.classCount;return Kotlin.classCount++,e},Kotlin.createClass=function(e,n,i,s){n==null&&(n=r()),t(n,s);var a=o(e,i);a.type=Kotlin.TYPE.CLASS;var f;return a.baseClass!==null?f=Object.create(a.baseClass.prototype):f={},Object.defineProperties(f,a.properties),t(f,a.functions),f.constructor=n,a.baseClass!=null&&(n.baseInitializer=a.baseClass),n.$metadata$=a,n.prototype=f,Object.defineProperty(n,"object",{get:u,configurable:!0}),n},Kotlin.createObject=function(e,t,n){var r=Kotlin.createClass(e,t,n),i=new r;return i.$metadata$={type:Kotlin.TYPE.OBJECT},i},Kotlin.createTrait=function(e,n,r){var i=function(){};return t(i,r),i.$metadata$=o(e,n),i.$metadata$.type=Kotlin.TYPE.TRAIT,i},Kotlin.isType=function(e,t){return e==null||t==null?!1:e instanceof t?!0:i(t)||t.$metadata$.type==Kotlin.TYPE.CLASS?!1:a(e.constructor,t)},Kotlin.definePackage=function(e,t){var n=l(t);if(e===null)return{value:n};var r=f(n,e);return{get:r}},Kotlin.defineRootPackage=function(e,t){var n=l(t);return e===null?n.$initializer$=r():n.$initializer$=e,n},Kotlin.defineModule=function(e,t){if(e in Kotlin.modules)throw new Error("Module "+e+" is already defined");t.$initializer$.call(t),Object.defineProperty(Kotlin.modules,e,{value:t})}})(),String.prototype.startsWith=function(e){return this.indexOf(e)===0},String.prototype.endsWith=function(e){return this.indexOf(e,this.length-e.length)!==-1},String.prototype.contains=function(e){return this.indexOf(e)!==-1},function(){function e(e){return function(){var t;throw e!==undefined?t="Function "+e+" is abstract":t="Function is abstract",new TypeError(t)}}Kotlin.equals=function(e,t){return e==null?t==null:Array.isArray(e)?Kotlin.arrayEquals(e,t):typeof e=="object"&&e.equals!==undefined?e.equals(t):e===t},Kotlin.toString=function(e){return e==null?"null":Array.isArray(e)?Kotlin.arrayToString(e):e.toString()},Kotlin.arrayToString=function(e){return"["+e.join(", ")+"]"},Kotlin.intUpto=function(e,t){return new Kotlin.NumberRange(e,t)},Kotlin.intDownto=function(e,t){return new Kotlin.Progression(e,t,-1)},Kotlin.modules={},Kotlin.RuntimeException=Kotlin.createClass(),Kotlin.NullPointerException=Kotlin.createClass(),Kotlin.NoSuchElementException=Kotlin.createClass(),Kotlin.IllegalArgumentException=Kotlin.createClass(),Kotlin.IllegalStateException=Kotlin.createClass(),Kotlin.UnsupportedOperationException=Kotlin.createClass(),Kotlin.IOException=Kotlin.createClass(),Kotlin.throwNPE=function(){throw new Kotlin.NullPointerException},Kotlin.Iterator=Kotlin.createClass(null,null,{next:e("Iterator#next"),hasNext:e("Iterator#hasNext")});var t=Kotlin.createClass(Kotlin.Iterator,function(e){this.array=e,this.size=e.length,this.index=0},{next:function(){return this.array[this.index++]},hasNext:function(){return this.index<this.size}}),n=Kotlin.createClass(t,function(e){this.list=e,this.size=e.size(),this.index=0},{next:function(){return this.list.get(this.index++)}});Kotlin.Collection=Kotlin.createClass(),Kotlin.Enum=Kotlin.createClass(null,function(){this.name$=undefined,this.ordinal$=undefined},{name:function(){return this.name$},ordinal:function(){return this.ordinal$},toString:function(){return this.name()}}),function(){function e(e){return this[e]}function t(){return this.values$}Kotlin.createEnumEntries=function(n){var r=0,i=[];for(var s in n)if(n.hasOwnProperty(s)){var o=n[s];i[r]=o,o.ordinal$=r,o.name$=s,r++}return n.values$=i,n.valueOf=e,n.values=t,n}}(),Kotlin.PropertyMetadata=Kotlin.createClass(null,function(e){this.name=e}),Kotlin.AbstractCollection=Kotlin.createClass(Kotlin.Collection,null,{size:function(){return this.$size},addAll:function(e){var t=e.iterator(),n=this.size();while(n-->0)this.add(t.next())},isEmpty:function(){return this.size()===0},iterator:function(){return new t(this.toArray())},equals:function(e){if(this.size()!==e.size())return!1;var t=this.iterator(),n=e.iterator(),r=this.size();while(r-->0)if(!Kotlin.equals(t.next(),n.next()))return!1;return!0},toString:function(){var e="[",t=this.iterator(),n=!0,r=this.$size;while(r-->0)n?n=!1:e+=", ",e+=t.next();return e+="]",e},toJSON:function(){return this.toArray()}}),Kotlin.AbstractList=Kotlin.createClass(Kotlin.AbstractCollection,null,{iterator:function(){return new n(this)},remove:function(e){var t=this.indexOf(e);t!==-1&&this.removeAt(t)},contains:function(e){return this.indexOf(e)!==-1}}),Kotlin.ArrayList=Kotlin.createClass(Kotlin.AbstractList,function(){this.array=[],this.$size=0},{get:function(e){return this.checkRange(e),this.array[e]},set:function(e,t){this.checkRange(e),this.array[e]=t},size:function(){return this.$size},iterator:function(){return Kotlin.arrayIterator(this.array)},add:function(e){this.array[this.$size++]=e},addAt:function(e,t){this.array.splice(e,0,t),this.$size++},addAll:function(e){var t=e.iterator();for(var n=this.$size,r=e.size();r-->0;)this.array[n++]=t.next();this.$size+=e.size()},removeAt:function(e){return this.checkRange(e),this.$size--,this.array.splice(e,1)[0]},clear:function(){this.array.length=0,this.$size=0},indexOf:function(e){for(var t=0,n=this.$size;t<n;++t)if(Kotlin.equals(this.array[t],e))return t;return-1},toArray:function(){return this.array.slice(0,this.$size)},toString:function(){return"["+this.array.join(", ")+"]"},toJSON:function(){return this.array},checkRange:function(e){if(e<0||e>=this.$size)throw new RangeError}}),Kotlin.Runnable=Kotlin.createClass(null,null,{run:e("Runnable#run")}),Kotlin.Comparable=Kotlin.createClass(null,null,{compareTo:e("Comparable#compareTo")}),Kotlin.Appendable=Kotlin.createClass(null,null,{append:e("Appendable#append")}),Kotlin.Closeable=Kotlin.createClass(null,null,{close:e("Closeable#close")}),Kotlin.safeParseInt=function(e){var t=parseInt(e,10);return isNaN(t)?null:t},Kotlin.safeParseDouble=function(e){var t=parseFloat(e);return isNaN(t)?null:t},Kotlin.arrayEquals=function(e,t){if(e===t)return!0;if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!Kotlin.equals(e[n],t[n]))return!1;return!0},Kotlin.System=function(){var e="",t=function(t){t!==undefined&&(t===null||typeof t!="object"?e+=t:e+=t.toString())},n=function(t){this.print(t),e+="\n"};return{out:function(){return{print:t,println:n}},output:function(){return e},flush:function(){e=""}}}(),Kotlin.println=function(e){Kotlin.System.out().println(e)},Kotlin.print=function(e){Kotlin.System.out().print(e)},Kotlin.RangeIterator=Kotlin.createClass(Kotlin.Iterator,function(e,t,n){this.start=e,this.end=t,this.increment=n,this.i=e},{next:function(){var e=this.i;return this.i=this.i+this.increment,e},hasNext:function(){return this.i<=this.end}}),Kotlin.NumberRange=Kotlin.createClass(null,function(e,t){this.start=e,this.end=t,this.increment=1},{contains:function(e){return this.start<=e&&e<=this.end},iterator:function(){return new Kotlin.RangeIterator(this.start,this.end)}}),Kotlin.Progression=Kotlin.createClass(null,function(e,t,n){this.start=e,this.end=t,this.increment=n},{iterator:function(){return new Kotlin.RangeIterator(this.start,this.end,this.increment)}}),Kotlin.Comparator=Kotlin.createClass(null,null,{compare:e("Comparator#compare")});var r=Kotlin.createClass(Kotlin.Comparator,function(e){this.compare=e});Kotlin.comparator=function(e){return new r(e)},Kotlin.collectionsMax=function(e,t){if(e.isEmpty())throw new Error;var n=e.iterator(),r=n.next();while(n.hasNext()){var i=n.next();t.compare(r,i)<0&&(r=i)}return r},Kotlin.collectionsSort=function(e,t){var n=undefined;t!==undefined&&(n=t.compare.bind(t)),e instanceof Array&&e.sort(n);var r=[],i=e.iterator();while(i.hasNext())r.push(i.next());r.sort(n);for(var s=0,o=r.length;s<o;s++)e.set(s,r[s])},Kotlin.copyToArray=function(e){var t=[],n=e.iterator();while(n.hasNext())t.push(n.next());return t},Kotlin.StringBuilder=Kotlin.createClass(null,function(){this.string=""},{append:function(e){this.string=this.string+e.toString()},toString:function(){return this.string}}),Kotlin.splitString=function(e,t,n){return e.split(new RegExp(t),n)},Kotlin.nullArray=function(e){var t=[],n=e;while(n>0)t[--n]=null;return t},Kotlin.numberArrayOfSize=function(e){return Kotlin.arrayFromFun(e,function(){return 0})},Kotlin.charArrayOfSize=function(e){return Kotlin.arrayFromFun(e,function(){return"\0"})},Kotlin.booleanArrayOfSize=function(e){return Kotlin.arrayFromFun(e,function(){return!1})},Kotlin.arrayFromFun=function(e,t){var n=new Array(e);for(var r=0;r<e;r++)n[r]=t(r);return n},Kotlin.arrayIndices=function(e){return new Kotlin.NumberRange(0,e.length-1)},Kotlin.arrayIterator=function(e){return new t(e)},Kotlin.jsonFromTuples=function(e){var t=e.length,n={};while(t>0)--t,n[e[t][0]]=e[t][1];return n},Kotlin.jsonAddProperties=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}}(),Kotlin.assignOwner=function(e,t){return e.o=t,e},function(){function n(t){var r;if(typeof t=="string")return t;if(typeof t.hashCode==e)return r=t.hashCode(),typeof r=="string"?r:n(r);if(typeof t.toString==e)return t.toString();try{return String(t)}catch(i){return Object.prototype.toString.call(t)}}function r(e,t){return e.equals(t)}function i(t,n){return typeof n.equals==e?n.equals(t):t===n}function s(e){return function(t){if(t===null)throw new Error("null is not a valid "+e);if(typeof t=="undefined")throw new Error(e+" must not be undefined")}}function a(e,t,n,r){this[0]=e,this.entries=[],this.addEntry(t,n),r!==null&&(this.getEqualityFunction=function(){return r})}function h(e){return function(t){var n=this.entries.length,r,i=this.getEqualityFunction(t);while(n--){r=this.entries[n];if(i(t,r[0]))switch(e){case f:return!0;case l:return r;case c:return[n,r[1]]}}return!1}}function p(e){return function(t){var n=t.length;for(var r=0,i=this.entries.length;r<i;++r)t[n+r]=this.entries[r][e]}}function d(e,t){var n=e.length,r;while(n--){r=e[n];if(t===r[0])return n}return null}function v(e,t){var n=e[t];return n&&n instanceof a?n:null}var e="function",t=typeof Array.prototype.splice==e?function(e,t){e.splice(t,1)}:function(e,t){var n,r,i;if(t===e.length-1)e.length=t;else{n=e.slice(t+1),e.length=t;for(r=0,i=n.length;r<i;++r)e[t+r]=n[r]}},o=s("key"),u=s("value"),f=0,l=1,c=2;a.prototype={getEqualityFunction:function(t){return typeof t.equals==e?r:i},getEntryForKey:h(l),getEntryAndIndexForKey:h(c),removeEntryForKey:function(e){var n=this.getEntryAndIndexForKey(e);return n?(t(this.entries,n[0]),n[1]):null},addEntry:function(e,t){this.entries[this.entries.length]=[e,t]},keys:p(0),values:p(1),getEntries:function(e){var t=e.length;for(var n=0,r=this.entries.length;n<r;++n)e[t+n]=this.entries[n].slice(0)},containsKey:h(f),containsValue:function(e){var t=this.entries.length;while(t--)if(e===this.entries[t][1])return!0;return!1}};var m=function(r,i){var s=this,f=[],l={},c=typeof r==e?r:n,h=typeof i==e?i:null;this.put=function(e,t){o(e),u(t);var n=c(e),r,i,s=null;return r=v(l,n),r?(i=r.getEntryForKey(e),i?(s=i[1],i[1]=t):r.addEntry(e,t)):(r=new a(n,e,t,h),f[f.length]=r,l[n]=r),s},this.get=function(e){o(e);var t=c(e),n=v(l,t);if(n){var r=n.getEntryForKey(e);if(r)return r[1]}return null},this.containsKey=function(e){o(e);var t=c(e),n=v(l,t);return n?n.containsKey(e):!1},this.containsValue=function(e){u(e);var t=f.length;while(t--)if(f[t].containsValue(e))return!0;return!1},this.clear=function(){f.length=0,l={}},this.isEmpty=function(){return!f.length};var p=function(e){return function(){var t=[],n=f.length;while(n--)f[n][e](t);return t}};this._keys=p("keys"),this._values=p("values"),this._entries=p("getEntries"),this.values=function(){var e=this._values(),t=e.length,n=new Kotlin.ArrayList;while(t--)n.add(e[t]);return n},this.remove=function(e){o(e);var n=c(e),r,i=null,s=v(l,n);return s&&(i=s.removeEntryForKey(e),i!==null&&(s.entries.length||(r=d(f,n),t(f,r),delete l[n]))),i},this.size=function(){var e=0,t=f.length;while(t--)e+=f[t].entries.length;return e},this.each=function(e){var t=s._entries(),n=t.length,r;while(n--)r=t[n],e(r[0],r[1])},this.putAll=function(t,n){var r=t._entries(),i,o,u,a,f=r.length,l=typeof n==e;while(f--)i=r[f],o=i[0],u=i[1],l&&(a=s.get(o))&&(u=n(o,a,u)),s.put(o,u)},this.clone=function(){var e=new m(r,i);return e.putAll(s),e},this.keySet=function(){var e=new Kotlin.ComplexHashSet,t=this._keys(),n=t.length;while(n--)e.add(t[n]);return e}};Kotlin.HashTable=m}(),Kotlin.Map=Kotlin.createClass(),Kotlin.HashMap=Kotlin.createClass(Kotlin.Map,function(){Kotlin.HashTable.call(this)}),Kotlin.ComplexHashMap=Kotlin.HashMap,function(){var e=Kotlin.createClass(Kotlin.Iterator,function(e,t){this.map=e,this.keys=t,this.size=t.length,this.index=0},{next:function(){return this.map[this.keys[this.index++]]},hasNext:function(){return this.index<this.size}}),t=Kotlin.createClass(Kotlin.Collection,function(e){this.map=e},{iterator:function(){return new e(this.map.map,Object.keys(this.map.map))},isEmpty:function(){return this.map.$size===0},contains:function(e){return this.map.containsValue(e)}});Kotlin.PrimitiveHashMap=Kotlin.createClass(Kotlin.Map,function(){this.$size=0,this.map={}},{size:function(){return this.$size},isEmpty:function(){return this.$size===0},containsKey:function(e){return this.map[e]!==undefined},containsValue:function(e){var t=this.map;for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return!0;return!1},get:function(e){return this.map[e]},put:function(e,t){var n=this.map[e];return this.map[e]=t===undefined?null:t,n===undefined&&this.$size++,n},remove:function(e){var t=this.map[e];return t!==undefined&&(delete this.map[e],this.$size--),t},clear:function(){this.$size=0,this.map={}},putAll:function(e){var t=e.map;for(var n in t)t.hasOwnProperty(n)&&(this.map[n]=t[n],this.$size++)},keySet:function(){var e=new Kotlin.PrimitiveHashSet,t=this.map;for(var n in t)t.hasOwnProperty(n)&&e.add(n);return e},values:function(){return new t(this)},toJSON:function(){return this.map}})}(),Kotlin.Set=Kotlin.createClass(Kotlin.Collection),Kotlin.PrimitiveHashSet=Kotlin.createClass(Kotlin.AbstractCollection,function(){this.$size=0,this.map={}},{contains:function(e){return this.map[e]===!0},add:function(e){var t=this.map[e];return this.map[e]=!0,t===!0?!1:(this.$size++,!0)},remove:function(e){return this.map[e]===!0?(delete this.map[e],this.$size--,!0):!1},clear:function(){this.$size=0,this.map={}},toArray:function(){return Object.keys(this.map)}}),function(){function e(t,n){var r=new Kotlin.HashTable(t,n);this.add=function(e){r.put(e,!0)},this.addAll=function(e){var t=e.length;while(t--)r.put(e[t],!0)},this.values=function(){return r._keys()},this.iterator=function(){return Kotlin.arrayIterator(this.values())},this.remove=function(e){return r.remove(e)?e:null},this.contains=function(e){return r.containsKey(e)},this.clear=function(){r.clear()},this.size=function(){return r.size()},this.isEmpty=function(){return r.isEmpty()},this.clone=function(){var i=new e(t,n);return i.addAll(r.keys()),i},this.equals=function(e){if(e===null||e===undefined)return!1;if(this.size()===e.size()){var t=this.iterator(),n=e.iterator();for(;;){var r=t.hasNext(),i=n.hasNext();if(r!=i)return!1;if(!i)return!0;var s=t.next(),o=n.next();if(!Kotlin.equals(s,o))return!1}}return!1},this.toString=function(){var e="[",t=this.iterator(),n=!0;while(t.hasNext())n?n=!1:e+=", ",e+=t.next();return e+="]",e},this.intersection=function(i){var s=new e(t,n),o=i.values(),u=o.length,a;while(u--)a=o[u],r.containsKey(a)&&s.add(a);return s},this.union=function(e){var t=this.clone(),n=e.values(),i=n.length,s;while(i--)s=n[i],r.containsKey(s)||t.add(s);return t},this.isSubsetOf=function(e){var t=r.keys(),n=t.length;while(n--)if(!e.contains(t[n]))return!1;return!0}}Kotlin.HashSet=Kotlin.createClass(Kotlin.Set,function(){e.call(this)}),Kotlin.ComplexHashSet=Kotlin.HashSet}(),define([],function(){return Kotlin});