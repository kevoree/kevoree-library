define(["jquery","templates/network-property","util/Delayer"],function(e,t,n){function a(e){this._ctrl=e,this._jqy=[]}var r=".network-property",i="network-property-key-",s="network-property-val-",o="network-property-err-",u=[i,s,o];return a.prototype.getHTML=function(){var e={link:{id:this._ctrl.getLink()._id},id:this._ctrl._id,key:this._ctrl.getKey(),value:this._ctrl.getValue()};return t(e)},a.prototype.onHTMLAppended=function(){var t=this._ctrl.getLink(),a=this._ctrl._id,f=this;for(var l=0;l<u.length;l++)this._jqy[u[l]]=e("#"+u[l]+t._id+"-"+a);var c=new n,h=new n;this._jqy[i].off(r),this._jqy[i].on("keyup"+r,function(){var t=e(this).val();e(this).closest(".control-group").removeClass("error"),f._jqy[o].hide(),c.delay(function(){f._ctrl.p2cChangeKey(t)},350)}),this._jqy[s].off(r),this._jqy[s].on("keyup"+r,function(){var t=e(this).val();h.delay(function(){f._ctrl.p2cChangeValue(t)},350)})},a.prototype.c2pDisplayError=function(e){this._jqy[i].closest(".control-group").addClass("error"),this._jqy[o].find(".text-error").html('"'+e+'" is already used'),this._jqy[o].show("fast")},a.prototype.c2pKeyValueSaved=function(){},a.prototype.c2pValueValueSaved=function(e){},a.prototype.c2pValueSaved=function(t){t?e("#prop-popup-save").removeClass("disabled"):e("#prop-popup-save").addClass("disabled")},a});