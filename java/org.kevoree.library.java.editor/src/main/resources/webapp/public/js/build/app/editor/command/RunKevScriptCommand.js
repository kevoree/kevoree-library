define(["util/AlertPopupHelper","kevoree-kevscript","kevoree","resolver/NPMResolver"],function(e,t,n,r){function s(){}var i=".kevscript-editor";return s.prototype.execute=function(e,s){$("body").off(i),$("body").on("hidden"+i,"#kevs-editor",function(){$("#kevs-editor-error-content").html(""),$("#kevs-editor-error").addClass("hide")});var o=new r,u={resolvers:{npm:o}},a=new t(u);a.parse(s,e.getModel(),function(t,r){if(t)$("#kevs-editor-error").removeClass("hide"),$("#kevs-editor-error-content").html(t.message);else{var i=new n.org.kevoree.serializer.JSONModelSerializer,s=new n.org.kevoree.loader.JSONModelLoader;e.setModel(s.loadModelFromString(i.serialize(r)).get(0)),$("#kevs-editor").modal("hide")}})},s});